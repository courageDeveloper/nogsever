{"version":3,"sources":["../../src/pages/addequipmentsadd/addequipmentsadd.module.ts","../../src/pages/addequipmentsadd/addequipmentsadd.ts"],"names":[],"mappings":"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","file":"45.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddequipmentsaddPage } from './addequipmentsadd';\nimport { Ng2AutoCompleteModule } from 'ng2-auto-complete';\n\n@NgModule({\n  declarations: [\n    AddequipmentsaddPage,\n  ],\n  imports: [\n    Ng2AutoCompleteModule,\n    IonicPageModule.forChild(AddequipmentsaddPage),\n  ],\n})\nexport class AddequipmentsaddPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addequipmentsadd/addequipmentsadd.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ViewController, Platform, NavParams } from 'ionic-angular';\nimport { Equipmentsadd } from '../../models/equipmentsadd';\nimport { PouchService } from '../../pouch-service/pouch.service';\n\n\n/**\n * Generated class for the AddsparepartsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-addequipmentsadd',\n  templateUrl: 'addequipmentsadd.html',\n})\nexport class AddequipmentsaddPage {\n  public equipmentsadds: Equipmentsadd;\n  add = false;\n  title = 'Edit';\n  search = false;\n  equipmentsCatArray;\n  equipmentCatObject;\n  equipmentsPartArray;\n  equipmentPartObject;\n\n  constructor(public navCtrl: NavController, public viewCtrl: ViewController, public db: PouchService, public navParams: NavParams, public platform: Platform) {\n    if (this.navParams.get('type') == 'Add') {\n      this.add = true;\n      this.title = 'Add';\n      this.equipmentsadds = {\n        id: Math.round((new Date()).getTime()).toString(),\n        rev: '',\n        tagname: '',\n        equipmentcatname: '',\n        equipmentcatid: '',\n        equipmentpartid: '',\n        equipmentpartname: ''\n      }\n    }\n    else {\n      this.equipmentsadds = this.navParams.get('equipmentsadd');\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddsparepartsPage');\n    this.db.getEquipmentcats().then(res => {\n      this.equipmentsCatArray = [];\n      this.equipmentsCatArray = res;\n    })\n    this.db.getEquipmentparts().then(res => {\n      this.equipmentsPartArray = [];\n      this.equipmentsPartArray = res;\n    });\n  }\n\n  selectEquipmentsCats(newVal) {\n    this.equipmentCatObject = newVal;\n    /* if(this.add){\n    this.equipmentCatObject.equipmentparts.forEach(item => {\n      this.db.getEquipmentpart(item).then(res => {\n        this.equipmentsPartArray.push(res);\n      })\n    })\n  } */\n    if (this.add) {\n      this.equipmentsadds.equipmentcatname = newVal.name;\n    }\n    else {\n      this.equipmentsadds.equipmentcatname = newVal;\n    }\n  }\n\n  selectEquipmentsParts(newVal) {\n    this.equipmentPartObject = newVal;\n    if (this.add) {\n      this.equipmentsadds.equipmentpartname = newVal.name;\n    }\n    else {\n      this.equipmentsadds.equipmentpartname = newVal;\n    }\n  }\n\n  submit() {\n    if (this.add) {\n      this.equipmentsadds.equipmentcatid = this.equipmentCatObject.id\n      this.equipmentsadds.equipmentpartid = this.equipmentPartObject.id\n      this.db.saveEquipmentsadd(this.equipmentsadds).then(res => {\n        this.viewCtrl.dismiss(res);\n        this.equipmentPartObject.equipmenttags.push(res.id);\n        this.db.updateEquipmentpart(this.equipmentPartObject).then(res => {\n\n        });\n      });\n    }\n    else {\n      if(typeof this.equipmentCatObject == 'object'){\n      this.equipmentsadds.equipmentcatid = this.equipmentCatObject.id\n      this.equipmentsadds.equipmentcatname = this.equipmentCatObject.name;\n    }\n    else{\n       this.equipmentsadds.equipmentcatid = this.equipmentsadds.equipmentcatid;\n       this.equipmentsadds.equipmentcatname = this.equipmentsadds.equipmentcatname;\n    }\n    if(typeof this.equipmentPartObject == 'object'){\n      this.equipmentsadds.equipmentpartid = this.equipmentPartObject.id\n      this.equipmentsadds.equipmentpartname = this.equipmentPartObject.name;\n    }\n    else{\n      this.equipmentsadds.equipmentpartid = this.equipmentsadds.equipmentpartid;\n      this.equipmentsadds.equipmentpartname = this.equipmentsadds.equipmentpartname;\n    }\n      this.db.updateEquipmentsadd(this.equipmentsadds).then(result => {\n        this.viewCtrl.dismiss();\n      });\n    }\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addequipmentsadd/addequipmentsadd.ts"],"sourceRoot":""}
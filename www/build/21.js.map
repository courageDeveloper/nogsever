{"version":3,"sources":["../../src/pages/viewdailyreport/viewdailyreport.module.ts","../../src/pages/viewdailyreport/viewdailyreport.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACQ;AAUxD;IAAA;IAAwC,CAAC;IAA5B,yBAAyB;QARrC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6EAAmB;aACpB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6EAAmB,CAAC;aAC9C;SACF,CAAC;OACW,yBAAyB,CAAG;IAAD,gCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZI;AACiD;AAC1B;AAEjE;;;;;GAKG;AAOH;IAaE,6BAAmB,OAAsB,EAAS,SAA0B,EAAS,EAAgB,EAAS,SAAoB,EAAS,SAA0B;QAAlJ,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,OAAE,GAAF,EAAE,CAAc;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAXrK,wBAAmB,GAAuB,EAAE,CAAC;QAC7C,2BAAsB,GAAuB,EAAE,CAAC;QACzC,iBAAY,GAAuB,EAAE,CAAC;QAI7C,SAAI,GAAG,KAAK,CAAC;QAEb,YAAO,GAAG,IAAI,CAAC;QACf,yBAAoB,GAAG,EAAE,CAAC;QA0G1B,gBAAW,GAAG,UAAC,KAAK,EAAE,IAAI;YACxB,OAAO,IAAI,CAAC,EAAE,CAAC;QACjB,CAAC;IAzGD,CAAC;IAED,4CAAc,GAAd;QAAA,iBAYC;QAXC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACjE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;QACjD,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,cAAI;YACpD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAI,KAAI,CAAC,QAAQ,IAAI,UAAU,IAAI,KAAI,CAAC,QAAQ,IAAI,YAAY,EAAE;gBAChE,KAAI,CAAC,IAAI,GAAG,IAAI;aACjB;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,6CAAe,GAAf;QAAA,iBAYC;QAXC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,cAAI;YACpD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAI,KAAI,CAAC,QAAQ,IAAI,UAAU,IAAI,KAAI,CAAC,QAAQ,IAAI,YAAY,EAAE;gBAChE,KAAI,CAAC,IAAI,GAAG,IAAI;aACjB;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEO,+CAAiB,GAAzB;QAAA,iBAMC;QALC,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE;aACtB,IAAI,CAAC,UAAC,YAAgC;YACrC,KAAI,CAAC,mBAAmB,GAAG,YAAY,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,UAAU,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAK,EAAtI,CAAsI,CAAC,CAAC;YAC/L,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,UAAU,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAK,EAAtI,CAAsI,CAAC,CAAC;QAC1L,CAAC,CAAC;IACN,CAAC;IAED,kCAAI,GAAJ;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,0CAAY,GAAZ;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IACxD,CAAC;IAED,2CAAa,GAAb,UAAc,WAAW;QACvB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,CAAC;IACnF,CAAC;IAED,gDAAkB,GAAlB,UAAmB,MAAW;QAC5B,IAAM,KAAK,GAAW,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACnF,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAE9B,KAAwB,UAAiB,EAAjB,SAAI,CAAC,YAAY,EAAjB,cAAiB,EAAjB,IAAiB,EAAE;YAAtC,IAAI,WAAW;YAClB,IAAI,WAAW,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC/D,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC5C;SACF;IACH,CAAC;IAED,+CAAiB,GAAjB,UAAkB,WAAwB;QAA1C,iBAuBC;QAtBC,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,IAAM,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClC,KAAK,EAAE,qBAAqB;gBAC5B,OAAO,EAAE,oDAAoD,GAAG,WAAW,CAAC,WAAW;gBACvF,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;qBACf;oBACD;wBACE,IAAI,EAAE,SAAS;wBACf,OAAO,EAAE;4BACP,KAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC,WAAW,CAAC;iCACnC,IAAI,CAAC,UAAC,OAAgB;gCACrB,KAAI,CAAC,iBAAiB,EAAE,CAAC;4BAC3B,CAAC,CAAC,CAAC;wBACP,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;SACjB;IACH,CAAC;IAED,mCAAK,GAAL,UAAM,WAAW;QACf,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;IACtG,CAAC;IAED,6CAAe,GAAf,UAAgB,WAAW;QACzB,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC;QACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IAC3D,CAAC;IAED,2CAAa,GAAb;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,CAAC,oBAAoB,EAAC,CAAC,CAAC;QACnG,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;IACjC,CAAC;IAnHU,mBAAmB;QAJ/B,gEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACS;SACpC,CAAC;4BAcqK;OAb1J,mBAAmB,CAyH/B;IAAD,CAAC;AAAA;SAzHY,mBAAmB,e","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ViewdailyreportPage } from './viewdailyreport';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ViewdailyreportPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ViewdailyreportPage),\r\n  ],\r\n})\r\nexport class ViewdailyreportPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/viewdailyreport/viewdailyreport.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, ModalController, NavParams, AlertController } from 'ionic-angular';\r\nimport { PouchService } from '../../pouch-service/pouch.service';\r\nimport { Dailyreport } from '../../models/dailyreport';\r\n/**\r\n * Generated class for the WorkorderPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-workorder',\r\n  templateUrl: 'viewdailyreport.html',\r\n})\r\nexport class ViewdailyreportPage {\r\n  filterWorkorder;\r\n  filteredDailyreport: Array<Dailyreport> = [];\r\n  filteredDailyreportGen: Array<Dailyreport> = [];\r\n  public dailyReports: Array<Dailyreport> = [];\r\n  localStorageItem;\r\n  position;\r\n  public user: any;\r\n  show = false;\r\n  selectedDailyreport;\r\n  disable = true;\r\n  arraySelectedReports = [];\r\n\r\n  constructor(public navCtrl: NavController, public alertCtrl: AlertController, public db: PouchService, public navParams: NavParams, public modalCtrl: ModalController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.arraySelectedReports = [];\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    console.log('ionViewDidLoad ViewworkpermitPage');\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.position = item.post;\r\n      if (this.position == 'Operator' || this.position == 'Supervisor') {\r\n        this.show = true\r\n      }\r\n    });\r\n    this._loadDailyreports();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.arraySelectedReports = [];\r\n    this.disable = true;\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.position = item.post;\r\n      if (this.position == 'Operator' || this.position == 'Supervisor') {\r\n        this.show = true\r\n      }\r\n    });\r\n    this._loadDailyreports();\r\n  }\r\n\r\n  private _loadDailyreports(): void {\r\n    this.db.getdailyreports()\r\n      .then((dailyreports: Array<Dailyreport>) => {\r\n        this.filteredDailyreport = dailyreports.filter(data => data.department == this.user.departments || this.user.post == 'Manager' || this.user.post == 'Admin' || this.user.departments == 'HSE');\r\n        this.dailyReports = dailyreports.filter(data => data.department == this.user.departments || this.user.post == 'Manager' || this.user.post == 'Admin' || this.user.departments == 'HSE');\r\n      })\r\n  }\r\n\r\n  back() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  newWorkorder() {\r\n    this.navCtrl.push('DailyreportPage', { type: 'Add' });\r\n  }\r\n\r\n  openWorkorder(dailyreport) {\r\n    this.navCtrl.push('DailyreportPage', { type: 'Edit', dailyreport: dailyreport });\r\n  }\r\n\r\n  filterDailyreports($event: any): void {\r\n    const value: string = $event.target.value ? $event.target.value.toLowerCase() : '';\r\n    this.filteredDailyreport = [];\r\n\r\n    for (let dailyreport of this.dailyReports) {\r\n      if (dailyreport.datecreated.toLowerCase().indexOf(value) !== -1) {\r\n        this.filteredDailyreport.push(dailyreport);\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteDailyreport(dailyreport: Dailyreport) {\r\n    if (this.show) {\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Delete Daily Report',\r\n        message: 'Are you sure you want to delete Daily Report for: ' + dailyreport.datecreated,\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel'\r\n          },\r\n          {\r\n            text: 'Confirm',\r\n            handler: () => {\r\n              this.db.deletedailyreport(dailyreport)\r\n                .then((success: boolean) => {\r\n                  this._loadDailyreports();\r\n                });\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n  }\r\n\r\n  print(dailyreport) {\r\n    this.arraySelectedReports = [];\r\n    this.arraySelectedReports.push(dailyreport);\r\n    this.navCtrl.push('PrintdailyreportPage', { type: 'Edit', dailyreport: this.arraySelectedReports });\r\n  }\r\n\r\n  checkboxClicked(dailyreport) {\r\n    this.selectedDailyreport = dailyreport;\r\n    this.disable = false;\r\n    this.arraySelectedReports.push(this.selectedDailyreport);\r\n  }\r\n\r\n  printSelected() {\r\n    this.navCtrl.push('PrintdailyreportPage', { type: 'Edit', dailyreport: this.arraySelectedReports});\r\n    this.arraySelectedReports = [];\r\n  }\r\n\r\n  trackByName = (index, item) => {\r\n    return item.id;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/viewdailyreport/viewdailyreport.ts"],"sourceRoot":""}
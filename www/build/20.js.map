{"version":3,"sources":["../../src/pages/viewpreventivemaintenance/viewpreventivemaintenance.module.ts","../../src/pages/viewpreventivemaintenance/viewpreventivemaintenance.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AAC4B;AAY5E;IAAA;IAAkD,CAAC;IAAtC,mCAAmC;QAT/C,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,iGAA6B;aAC9B;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,iGAA6B,CAAC;aAExD;SACF,CAAC;OACW,mCAAmC,CAAG;IAAD,0CAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACdN;AAC2D;AACpC;AAEC;AAC0C;AAI5G;;;;;GAKG;AAmBH;IAmBE,uCAAmB,OAAsB,EAAU,QAAkB,EAAS,WAAgC,EAAS,SAA0B,EAAS,EAAgB,EAAS,SAAoB,EAAS,SAA0B;QAAvN,YAAO,GAAP,OAAO,CAAe;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAAS,gBAAW,GAAX,WAAW,CAAqB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,OAAE,GAAF,EAAE,CAAc;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAlB1O,sBAAiB,GAAqB,EAAE,CAAC;QAClC,eAAU,GAAqB,EAAE,CAAC;QAIzC,SAAI,GAAG,KAAK,CAAC;QA0Xb,gBAAW,GAAG,UAAC,KAAK,EAAE,IAAI;YACxB,OAAO,IAAI,CAAC,EAAE,CAAC;QACjB,CAAC;QA9WC,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACnD,CAAC;IAED,sDAAc,GAAd;QAAA,iBAcC;QAbC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACjE,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;QAC5D,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,cAAI;YACpD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAI,KAAI,CAAC,QAAQ,IAAI,UAAU,IAAI,KAAI,CAAC,QAAQ,IAAI,OAAO,EAAE;gBAC3D,KAAI,CAAC,IAAI,GAAG,IAAI;aACjB;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,uDAAe,GAAf;QAAA,iBAcC;QAbC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,cAAI;YACpD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAI,KAAI,CAAC,QAAQ,IAAI,UAAU,IAAI,KAAI,CAAC,QAAQ,IAAI,OAAO,EAAE;gBAC3D,KAAI,CAAC,IAAI,GAAG,IAAI;aACjB;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,EAAE,CAAC;IAErB,CAAC;IAEO,uDAAe,GAAvB;QAEE;;;cAGM;QALR,iBAsBC;QAfC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE;aACpB,IAAI,CAAC,UAAC,UAA4B;YACjC,KAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,UAAU,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAK,EAAtI,CAAsI,CAAC,CAAC;YAC3L,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,UAAU,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAK,EAAtI,CAAsI,CAAC,CAAC;YACpL,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,mBAAS;gBACtC,IAAI,SAAS,CAAC,UAAU,IAAI,IAAI,EAAE;oBAChC,WAAW,CAAC;wBACV,SAAS,CAAC,aAAa,GAAG,OAAO,CAAC;oBACpC,CAAC,EAAE,GAAG,CAAC;oBACP,WAAW,CAAC;wBACV,SAAS,CAAC,aAAa,GAAG,MAAM,CAAC;oBACnC,CAAC,EAAE,IAAI,CAAC;iBACT;YACH,CAAC,CAAC;QACJ,CAAC,CAAC;IACN,CAAC;IAED,iDAAS,GAAT;QAAA,iBAkHC;QAjHC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,eAAK;YAChC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,iBAAiB,IAAI,EAAE,EAA5B,CAA4B,CAAC,CAAC;YAE3D,KAAK,CAAC,OAAO,CAAC,mBAAS;gBACrB,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,WAAW,EAAE,CAAC;gBACnE,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACrD,IAAI,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;gBAC3C,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAE3D,IAAI,QAAQ,IAAI,WAAW,EAAE;oBAC3B,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;oBAC5B,SAAS,CAAC,aAAa,GAAG,MAAM,CAAC;oBACjC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;oBACzB,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1B,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1B,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC;oBACrC,IAAI,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;oBAC1B,IAAI,iBAAiB,GAAG,SAAS,CAAC,SAAS,CAAC;oBAC5C,IAAI,SAAS,GAAG,QAAQ,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;oBAC/D,SAAS,CAAC,iBAAiB,GAAG,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;oBAC1D,KAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,KAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,cAAI;wBAE1C,8BAA8B;wBAC9B,KAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,qBAAW;4BACvC,KAAI,CAAC,aAAa,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,IAAI,SAAS,EAAtB,CAAsB,CAAC,CAAC;4BACxE,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,WAAW,IAAI,KAAK,EAAzB,CAAyB,CAAC,CAAC;4BACvE,KAAI,CAAC,oBAAoB,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,IAAI,YAAY,IAAI,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,UAAU,EAArE,CAAqE,CAAC,CAAC;4BAC9H,IAAI,SAAS,CAAC,cAAc,IAAI,UAAU,EAAE;gCAC1C,KAAI,CAAC,cAAc,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,IAAI,UAAU,IAAI,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,UAAU,EAAnE,CAAmE,CAAC,CAAC;6BACvH;4BAED,KAAI,CAAC,eAAe,GAAG,EAAE,CAAC;4BAC1B,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,cAAI;gCAC7B,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;4BACH,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAI;gCACzB,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;4BACH,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,cAAI;gCACpC,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;4BACH,IAAI,SAAS,CAAC,cAAc,IAAI,UAAU,EAAE;gCAC1C,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,cAAI;oCAC9B,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gCACxC,CAAC,CAAC,CAAC;6BACJ;4BAED,IAAI,SAAS,GAAG;gCACd,IAAI,EAAE,SAAS,CAAC,KAAK;gCACrB,UAAU,EAAE,SAAS,CAAC,UAAU;gCAChC,KAAK,EAAE,KAAI,CAAC,eAAe;gCAC3B,WAAW,EAAE,KAAI,CAAC,IAAI,CAAC,MAAM;gCAC7B,QAAQ,EAAE,SAAS,CAAC,IAAI;gCACxB,IAAI,EAAE,SAAS,CAAC,WAAW;gCAC3B,WAAW,EAAE,SAAS,CAAC,WAAW;gCAClC,QAAQ,EAAE,SAAS,CAAC,aAAa;gCACjC,QAAQ,EAAE,SAAS,CAAC,OAAO;gCAC3B,QAAQ,EAAE,SAAS,CAAC,QAAQ;gCAC5B,IAAI,EAAE,OAAO;gCACb,OAAO,EAAE,SAAS,CAAC,SAAS;gCAC5B,WAAW,EAAE,SAAS,CAAC,WAAW;gCAClC,aAAa,EAAE,SAAS,CAAC,aAAa;gCACtC,MAAM,EAAE,SAAS,CAAC,MAAM;gCACxB,cAAc,EAAE,SAAS,CAAC,cAAc;6BACzC;4BAED,KAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,aAAG;4BAE5D,CAAC,CAAC,CAAC;4BAEH,oCAAoC;4BACpC,KAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,aAAG;4BAChE,CAAC,CAAC;4BACF,GAAG;wBAEL,CAAC,CAAC,CAAC;oBAEL,CAAC,CAAC,CAAC;iBAEJ;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,eAAK;YACjC,KAAK,CAAC,OAAO,CAAC,oBAAU;gBACtB,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,SAAS,EAAE;oBACvC,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,UAAU,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE;wBAEzE,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAS;4BACrD,IAAI,SAAS,IAAI,SAAS,EAAE;gCAC1B,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;gCACzB,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;gCAC1B,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC;gCAC7B,SAAS,CAAC,aAAa,GAAG,OAAO,CAAC;gCAClC,KAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAG;oCACzC,KAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,eAAK;wCACjC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,SAAS,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,UAAU,EAAzD,CAAyD,CAAC,CAAC;wCAExF,KAAK,CAAC,OAAO,CAAC,cAAI;4CAChB,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;4CACxB,KAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;wCACjC,CAAC,CAAC;oCACJ,CAAC,CAAC;gCACJ,CAAC,CAAC,CAAC;6BACJ;wBACH,CAAC,CAAC;qBACH;yBACI;wBACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;qBAC/B;iBACF;YACH,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mDAAW,GAAX;QAAA,iBA4GC;QA3GC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,eAAK;YAChC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,iBAAiB,IAAI,EAAE,EAA5B,CAA4B,CAAC,CAAC;YAE3D,KAAK,CAAC,OAAO,CAAC,mBAAS;gBACrB,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,CAAC;gBACtD,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjD,IAAI,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;gBAC3C,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAE3D,IAAI,MAAM,IAAI,WAAW,EAAE;oBACzB,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;oBAC5B,SAAS,CAAC,aAAa,GAAG,MAAM,CAAC;oBACjC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;oBACzB,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1B,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC1B,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC;oBACtB,KAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,KAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,cAAI;wBAE1C,8BAA8B;wBAC9B,KAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,qBAAW;4BACvC,KAAI,CAAC,aAAa,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,IAAI,SAAS,EAAtB,CAAsB,CAAC,CAAC;4BACxE,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,WAAW,IAAI,KAAK,EAAzB,CAAyB,CAAC,CAAC;4BACvE,KAAI,CAAC,oBAAoB,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,IAAI,YAAY,IAAI,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,UAAU,EAArE,CAAqE,CAAC,CAAC;4BAC9H,IAAI,SAAS,CAAC,cAAc,IAAI,UAAU,EAAE;gCAC1C,KAAI,CAAC,cAAc,GAAG,WAAW,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,IAAI,UAAU,IAAI,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,UAAU,EAAnE,CAAmE,CAAC,CAAC;6BACvH;4BAED,KAAI,CAAC,eAAe,GAAG,EAAE,CAAC;4BAC1B,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,cAAI;gCAC7B,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;4BACH,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAI;gCACzB,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;4BACH,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,cAAI;gCACpC,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;4BACH,IAAI,SAAS,CAAC,cAAc,IAAI,UAAU,EAAE;gCAC1C,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,cAAI;oCAC9B,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gCACxC,CAAC,CAAC,CAAC;6BACJ;4BAED,IAAI,SAAS,GAAG;gCACd,IAAI,EAAE,SAAS,CAAC,KAAK;gCACrB,UAAU,EAAE,SAAS,CAAC,UAAU;gCAChC,KAAK,EAAE,KAAI,CAAC,eAAe;gCAC3B,WAAW,EAAE,KAAI,CAAC,IAAI,CAAC,MAAM;gCAC7B,QAAQ,EAAE,SAAS,CAAC,IAAI;gCACxB,IAAI,EAAE,SAAS,CAAC,WAAW;gCAC3B,WAAW,EAAE,SAAS,CAAC,WAAW;gCAClC,QAAQ,EAAE,SAAS,CAAC,aAAa;gCACjC,QAAQ,EAAE,SAAS,CAAC,OAAO;gCAC3B,QAAQ,EAAE,SAAS,CAAC,QAAQ;gCAC5B,IAAI,EAAE,SAAS;gCACf,OAAO,EAAE,SAAS,CAAC,SAAS;gCAC5B,WAAW,EAAE,SAAS,CAAC,WAAW;gCAClC,aAAa,EAAE,SAAS,CAAC,aAAa;gCACtC,MAAM,EAAE,SAAS,CAAC,MAAM;gCACxB,cAAc,EAAE,SAAS,CAAC,cAAc;6BACzC;4BAED,KAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,aAAG;4BAE5D,CAAC,CAAC,CAAC;4BAEH,oCAAoC;4BACpC,KAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,aAAG;4BAChE,CAAC,CAAC;4BACF,GAAG;wBAEL,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC;iBACH;YACH,CAAC,CAAC;QACJ,CAAC,CAAC;QACF,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,eAAK;YACjC,KAAK,CAAC,OAAO,CAAC,oBAAU;gBACtB,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,SAAS,EAAE;oBACvC,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,UAAU,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE;wBAEzE,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAS;4BACrD,IAAI,SAAS,IAAI,SAAS,EAAE;gCAC1B,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;gCACzB,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;gCAC1B,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC;gCAC7B,SAAS,CAAC,aAAa,GAAG,OAAO,CAAC;gCAClC,KAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAG;oCACzC,KAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,eAAK;wCACjC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,SAAS,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,UAAU,EAAzD,CAAyD,CAAC,CAAC;wCAExF,KAAK,CAAC,OAAO,CAAC,cAAI;4CAChB,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;4CACxB,KAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;wCACjC,CAAC,CAAC;oCACJ,CAAC,CAAC;gCACJ,CAAC,CAAC,CAAC;6BACJ;wBACH,CAAC,CAAC;qBACH;yBACI;wBACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;qBAC/B;iBACF;YACH,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAI,GAAJ;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,wDAAgB,GAAhB,UAAiB,MAAW;QAC1B,IAAM,KAAK,GAAW,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACnF,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAE5B,KAAsB,UAAe,EAAf,SAAI,CAAC,UAAU,EAAf,cAAe,EAAf,IAAe,EAAE;YAAlC,IAAI,SAAS;YAChB,IAAI,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;gBACtD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACxC;SACF;IACH,CAAC;IAED,qDAAa,GAAb,UAAc,SAAS;QAAvB,iBAOC;QALC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,wBAAwB,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;QAC/H,KAAK,CAAC,YAAY,CAAC,UAAC,IAAI;YACtB,KAAI,CAAC,eAAe,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,6CAAK,GAAL,UAAM,SAAS;QAEb,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;QACxB,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAG;QAC3C,CAAC,CAAC;IACJ,CAAC;IAED,gDAAQ,GAAR,UAAS,SAAS;QAChB,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;QACzB,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAG;QAE3C,CAAC,CAAC;IACJ,CAAC;IAED,8CAAM,GAAN,UAAO,SAAS;QAAhB,iBASC;QAPC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,EAAE,CAAC;QAC9B,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAG;YACzC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YAC7D,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC;YACnB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;QAClF,CAAC,CAAC;IACJ,CAAC;IAED,uDAAe,GAAf,UAAgB,SAAoB;QAApC,iBAuBC;QAtBC,IAAI,IAAI,CAAC,QAAQ,IAAI,YAAY,EAAE;YACjC,IAAM,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClC,KAAK,EAAE,kBAAkB;gBACzB,OAAO,EAAE,6CAA6C,GAAG,SAAS,CAAC,WAAW;gBAC9E,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;qBACf;oBACD;wBACE,IAAI,EAAE,SAAS;wBACf,OAAO,EAAE;4BACP,KAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC;iCAC/B,IAAI,CAAC,UAAC,OAAgB;gCACrB,KAAI,CAAC,eAAe,EAAE,CAAC;4BACzB,CAAC,CAAC,CAAC;wBACP,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;SACjB;IACH,CAAC;IA9XU,6BAA6B;QAhBzC,gEAAS,CAAC;YACT,QAAQ,EAAE,gCAAgC;YAC1C,WAAW,EAAkC;YAC7C,gFAAU,CAAE;gBACV,8EAAQ,oFAAgB;oBACtB,KAAK,CAAC,OAAO,CAAQ;wBACT;8FACT;oBACH,KAAK,CAAC,MAAM,EAAQ;wBACR;mGACT;oBACH,+EAAU,CAAC,eAAe,EAAE,4EAAO,CAAC,eAAe,CAAC,CAAC;kBACC;aACtD;WACH;SACF,CAAC;sCAoB0O;OAnB/N,6BAA6B,CAoYzC;IAAD,CAAC;AAAA;SApYY,6BAA6B,e","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ViewpreventivemaintenancePage } from './viewpreventivemaintenance';\n\n\n@NgModule({\n  declarations: [\n    ViewpreventivemaintenancePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ViewpreventivemaintenancePage),\n    \n  ],\n})\nexport class ViewpreventivemaintenancePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/viewpreventivemaintenance/viewpreventivemaintenance.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, ModalController, Platform, NavParams, AlertController } from 'ionic-angular';\r\nimport { PouchService } from '../../pouch-service/pouch.service';\r\nimport { Workorder } from '../../models/workorder';\r\nimport { HttpserviceProvider } from '../../providers/httpservice';\r\nimport { trigger, style, transition, animate, state, keyframes, query, stagger } from '@angular/animations';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { map } from 'rxjs/operators';\r\n\r\n/**\r\n * Generated class for the ViewpreventivemaintenancePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-viewpreventivemaintenance',\r\n  templateUrl: 'viewpreventivemaintenance.html',\r\n  animations: [\r\n    trigger('elementState', [\r\n      state('false', style({\r\n        opacity: 1\r\n      })),\r\n      state('true', style({\r\n        opacity: 0\r\n      })),\r\n      transition('false => true', animate('500ms ease-in')),\r\n      transition('true => false', animate('500ms ease-out'))\r\n    ])\r\n  ]\r\n})\r\nexport class ViewpreventivemaintenancePage {\r\n  filteredWorkorder: Array<Workorder> = [];\r\n  public workorders: Array<Workorder> = [];\r\n  localStorageItem;\r\n  position;\r\n  public user: any;\r\n  show = false;\r\n  myClasses;\r\n  High\r\n  medium;\r\n  low;\r\n  state;\r\n  filterManager;\r\n  filterHse;\r\n  filterAreaSupervisor;\r\n  filterOperator;\r\n  supervisorArray;\r\n  equipment;\r\n\r\n  constructor(public navCtrl: NavController, private platform: Platform, public httpService: HttpserviceProvider, public alertCtrl: AlertController, public db: PouchService, public navParams: NavParams, public modalCtrl: ModalController) {\r\n    this.loadAlarm();\r\n    this.loadAlarmWO();\r\n\r\n    this.equipment = this.navParams.get('equipment');\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    console.log('ionViewDidLoad ViewpreventivemaintenancePage');\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.position = item.post;\r\n      if (this.position == 'Operator' || this.position == 'Admin') {\r\n        this.show = true\r\n      }\r\n    });\r\n\r\n    this._loadWorkorders();\r\n    this.loadAlarm();\r\n    this.loadAlarmWO();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.position = item.post;\r\n      if (this.position == 'Operator' || this.position == 'Admin') {\r\n        this.show = true\r\n      }\r\n    });\r\n\r\n    this._loadWorkorders();\r\n    this.loadAlarm();\r\n    this.loadAlarmWO();\r\n\r\n  }\r\n\r\n  private _loadWorkorders(): void {\r\n\r\n    /* console.log(this.db.getBanners());\r\n    this.db.getBanners().subscribe(banners => {\r\n      console.log(banners)\r\n    }); */\r\n\r\n    this.db.getWorkorders()\r\n      .then((workorders: Array<Workorder>) => {\r\n        this.filteredWorkorder = workorders.filter(data => data.department == this.user.departments || this.user.post == 'Manager' || this.user.post == 'Admin' || this.user.departments == 'HSE');\r\n        this.workorders = workorders.filter(data => data.department == this.user.departments || this.user.post == 'Manager' || this.user.post == 'Admin' || this.user.departments == 'HSE');\r\n        this.filteredWorkorder.forEach(workorder => {\r\n          if (workorder.beepstatus == true) {\r\n            setInterval(() => {\r\n              workorder.animateswitch = \"false\";\r\n            }, 500)\r\n            setInterval(() => {\r\n              workorder.animateswitch = \"true\";\r\n            }, 1000)\r\n          }\r\n        })\r\n      })\r\n  }\r\n\r\n  loadAlarm() {\r\n    this.db.getWorkorders().then(items => {\r\n      items = items.filter(data => data.frequencyspandate != \"\");\r\n\r\n      items.forEach(workorder => {\r\n        var spanDate = new Date(workorder.frequencyspandate).toUTCString();\r\n        spanDate = spanDate.split(' ').slice(0, 4).join(' ');\r\n        var currentDate = new Date().toUTCString();\r\n        currentDate = currentDate.split(' ').slice(0, 4).join(' ');\r\n\r\n        if (spanDate == currentDate) {\r\n          workorder.beepstatus = true;\r\n          workorder.animateswitch = 'true';\r\n          workorder.status = false;\r\n          workorder.dstatus = false;\r\n          workorder.gstatus = false;\r\n          workorder.frequencydate = new Date();\r\n          var someDate = new Date();\r\n          var numberOfDaysToAdd = workorder.frequency;\r\n          var addedDate = someDate.getDate() + Number(numberOfDaysToAdd);\r\n          workorder.frequencyspandate = someDate.setDate(addedDate);\r\n          this._loadWorkorders();\r\n          this.db.updateWorkorder(workorder).then(data => {\r\n\r\n            //Send email when date is due.\r\n            this.db.getSupervisors().then(supervisors => {\r\n              this.filterManager = supervisors.filter(data => data.post == 'Manager');\r\n              this.filterHse = supervisors.filter(data => data.departments == 'HSE');\r\n              this.filterAreaSupervisor = supervisors.filter(data => data.post == 'Supervisor' && data.departments == workorder.department);\r\n              if (workorder.responsibility == 'Operator') {\r\n                this.filterOperator = supervisors.filter(data => data.post == 'Operator' && data.departments == workorder.department);\r\n              }\r\n\r\n              this.supervisorArray = [];\r\n              this.filterManager.forEach(item => {\r\n                this.supervisorArray.push(item.email);\r\n              });\r\n              this.filterHse.forEach(item => {\r\n                this.supervisorArray.push(item.email);\r\n              });\r\n              this.filterAreaSupervisor.forEach(item => {\r\n                this.supervisorArray.push(item.email);\r\n              });\r\n              if (workorder.responsibility == 'Operator') {\r\n                this.filterOperator.forEach(item => {\r\n                  this.supervisorArray.push(item.email);\r\n                });\r\n              }\r\n\r\n              var emailInfo = {\r\n                name: workorder.staff,\r\n                department: workorder.department,\r\n                email: this.supervisorArray,\r\n                phoneNumber: this.user.mobile,\r\n                position: workorder.post,\r\n                wono: workorder.workorderno,\r\n                description: workorder.description,\r\n                location: workorder.exactlocation,\r\n                facility: workorder.faculty,\r\n                priority: workorder.priority,\r\n                type: 'alarm',\r\n                jobtype: workorder.worktypes,\r\n                datecreated: workorder.datecreated,\r\n                frequencydate: workorder.frequencydate,\r\n                datewo: workorder.datewo,\r\n                responsibility: workorder.responsibility\r\n              }\r\n\r\n              this.httpService.sendEmailworkorder(emailInfo).subscribe(res => {\r\n\r\n              });\r\n\r\n              //if (this.platform.is('cordova')) {\r\n              this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n              })\r\n              //}\r\n\r\n            });\r\n\r\n          });\r\n\r\n        }\r\n      });\r\n    });\r\n    this.db.getWorkpermits().then(items => {\r\n      items.forEach(workpermit => {\r\n        if (workpermit['wostatus'] != undefined) {\r\n          if (workpermit['wostatus'] == 'Approved' && workpermit['gstatus'] == true) {\r\n\r\n            this.db.getWorkorder(workpermit['woid']).then(workorder => {\r\n              if (workorder != undefined) {\r\n                workorder.status = false;\r\n                workorder.dstatus = false;\r\n                workorder.beepstatus = false;\r\n                workorder.animateswitch = \"false\";\r\n                this.db.updateWorkorder(workorder).then(res => {\r\n                  this.db.getWorkpermits().then(items => {\r\n                    items = items.filter(item => item['gstatus'] == true && item['wostatus'] == 'Approved');\r\n\r\n                    items.forEach(item => {\r\n                      item['gstatus'] = false;\r\n                      this.db.updateWorkpermit(item);\r\n                    })\r\n                  })\r\n                });\r\n              }\r\n            })\r\n          }\r\n          else {\r\n            console.log('Not yet active');\r\n          }\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  loadAlarmWO() {\r\n    this.db.getWorkorders().then(items => {\r\n      items = items.filter(data => data.frequencyspandate == \"\");\r\n\r\n      items.forEach(workorder => {\r\n        var woDate = new Date(workorder.datewo).toUTCString();\r\n        woDate = woDate.split(' ').slice(0, 4).join(' ');\r\n        var currentDate = new Date().toUTCString();\r\n        currentDate = currentDate.split(' ').slice(0, 4).join(' ');\r\n\r\n        if (woDate == currentDate) {\r\n          workorder.beepstatus = true;\r\n          workorder.animateswitch = 'true';\r\n          workorder.status = false;\r\n          workorder.dstatus = false;\r\n          workorder.gstatus = false;\r\n          workorder.datewo = '';\r\n          this._loadWorkorders();\r\n          this.db.updateWorkorder(workorder).then(data => {\r\n\r\n            //Send email when date is due.\r\n            this.db.getSupervisors().then(supervisors => {\r\n              this.filterManager = supervisors.filter(data => data.post == 'Manager');\r\n              this.filterHse = supervisors.filter(data => data.departments == 'HSE');\r\n              this.filterAreaSupervisor = supervisors.filter(data => data.post == 'Supervisor' && data.departments == workorder.department);\r\n              if (workorder.responsibility == 'Operator') {\r\n                this.filterOperator = supervisors.filter(data => data.post == 'Operator' && data.departments == workorder.department);\r\n              }\r\n\r\n              this.supervisorArray = [];\r\n              this.filterManager.forEach(item => {\r\n                this.supervisorArray.push(item.email);\r\n              });\r\n              this.filterHse.forEach(item => {\r\n                this.supervisorArray.push(item.email);\r\n              });\r\n              this.filterAreaSupervisor.forEach(item => {\r\n                this.supervisorArray.push(item.email);\r\n              });\r\n              if (workorder.responsibility == 'Operator') {\r\n                this.filterOperator.forEach(item => {\r\n                  this.supervisorArray.push(item.email);\r\n                });\r\n              }\r\n\r\n              var emailInfo = {\r\n                name: workorder.staff,\r\n                department: workorder.department,\r\n                email: this.supervisorArray,\r\n                phoneNumber: this.user.mobile,\r\n                position: workorder.post,\r\n                wono: workorder.workorderno,\r\n                description: workorder.description,\r\n                location: workorder.exactlocation,\r\n                facility: workorder.faculty,\r\n                priority: workorder.priority,\r\n                type: 'alarmwo',\r\n                jobtype: workorder.worktypes,\r\n                datecreated: workorder.datecreated,\r\n                frequencydate: workorder.frequencydate,\r\n                datewo: workorder.datewo,\r\n                responsibility: workorder.responsibility\r\n              }\r\n\r\n              this.httpService.sendEmailworkorder(emailInfo).subscribe(res => {\r\n\r\n              });\r\n\r\n              //if (this.platform.is('cordova')) {\r\n              this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n              })\r\n              //}\r\n\r\n            });\r\n          })\r\n        }\r\n      })\r\n    })\r\n    this.db.getWorkpermits().then(items => {\r\n      items.forEach(workpermit => {\r\n        if (workpermit['wostatus'] != undefined) {\r\n          if (workpermit['wostatus'] == 'Approved' && workpermit['gstatus'] == true) {\r\n\r\n            this.db.getWorkorder(workpermit['woid']).then(workorder => {\r\n              if (workorder != undefined) {\r\n                workorder.status = false;\r\n                workorder.dstatus = false;\r\n                workorder.beepstatus = false;\r\n                workorder.animateswitch = \"false\";\r\n                this.db.updateWorkorder(workorder).then(res => {\r\n                  this.db.getWorkpermits().then(items => {\r\n                    items = items.filter(item => item['gstatus'] == true && item['wostatus'] == 'Approved');\r\n\r\n                    items.forEach(item => {\r\n                      item['gstatus'] = false;\r\n                      this.db.updateWorkpermit(item);\r\n                    })\r\n                  })\r\n                });\r\n              }\r\n            })\r\n          }\r\n          else {\r\n            console.log('Not yet active');\r\n          }\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  back() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  filterWorkorders($event: any): void {\r\n    const value: string = $event.target.value ? $event.target.value.toLowerCase() : '';\r\n    this.filteredWorkorder = [];\r\n\r\n    for (let workorder of this.workorders) {\r\n      if (workorder.name.toLowerCase().indexOf(value) !== -1) {\r\n        this.filteredWorkorder.push(workorder);\r\n      }\r\n    }\r\n  }\r\n\r\n  openWorkorder(workorder) {\r\n\r\n    let modal = this.modalCtrl.create('VieworderequipmentPage', { type: 'View', equipment: this.equipment, workorder: workorder });\r\n    modal.onDidDismiss((data) => {\r\n      this._loadWorkorders();\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  ackWo(workorder) {\r\n\r\n    workorder.status = true;\r\n    workorder.dstatus = false;\r\n    this.db.updateWorkorder(workorder).then(res => {\r\n    })\r\n  }\r\n\r\n  disackWo(workorder) {\r\n    workorder.dstatus = true;\r\n    workorder.status = false;\r\n    this.db.updateWorkorder(workorder).then(res => {\r\n\r\n    })\r\n  }\r\n\r\n  navPtw(workorder) {\r\n\r\n    workorder.woid = workorder.id;\r\n    workorder.dstatus = true;\r\n    this.db.updateWorkorder(workorder).then(res => {\r\n      workorder.id = Math.round((new Date()).getTime()).toString();\r\n      workorder.rev = \"\";\r\n      this.navCtrl.push('WorkpermitPage', { type: 'Workorder', workorder: workorder })\r\n    })\r\n  }\r\n\r\n  deleteWorkorder(workorder: Workorder) {\r\n    if (this.position == 'Supervisor') {\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Delete Workorder',\r\n        message: 'Are you sure you want to delete workorder: ' + workorder.workorderno,\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel'\r\n          },\r\n          {\r\n            text: 'Confirm',\r\n            handler: () => {\r\n              this.db.deleteWorkorder(workorder)\r\n                .then((success: boolean) => {\r\n                  this._loadWorkorders();\r\n                });\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n  }\r\n\r\n  trackByName = (index, item) => {\r\n    return item.id;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/viewpreventivemaintenance/viewpreventivemaintenance.ts"],"sourceRoot":""}
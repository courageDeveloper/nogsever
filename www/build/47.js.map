{"version":3,"sources":["../../src/pages/addengineer/addengineer.module.ts","../../src/pages/addengineer/addengineer.ts"],"names":[],"mappings":"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","file":"47.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddengineerPage } from './addengineer';\n\n@NgModule({\n  declarations: [\n    AddengineerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddengineerPage),\n  ]\n})\nexport class AddengineerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addengineer/addengineer.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, ViewController, NavController, Platform, NavParams } from 'ionic-angular';\r\nimport { Supervisor } from '../../models/supervisor';\r\nimport { PouchService } from '../../pouch-service/pouch.service';\r\nimport { FormGroup, FormControl, FormBuilder, Validators } from '@angular/forms';\r\n/**\r\n * Generated class for the AddengineerPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addengineer',\r\n  templateUrl: 'addengineer.html',\r\n})\r\nexport class AddengineerPage {\r\n  public supervisor: Supervisor;\r\n  add = false;\r\n  title = 'Edit';\r\n  search = false;\r\n  departments;\r\n  disabled = false;\r\n  errorMessageUser;\r\n  errorMessage;\r\n  emailValidate = \"[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})\";\r\n  supervisorForm = new FormGroup({\r\n    id: new FormControl(),\r\n    rev: new FormControl(),\r\n    name: new FormControl(),\r\n    mobile: new FormControl(),\r\n    address: new FormControl(),\r\n    email: new FormControl(),\r\n    otp: new FormControl(),\r\n    sex: new FormControl(),\r\n    position: new FormControl(),\r\n    departments: new FormControl(),\r\n    username: new FormControl(),\r\n    password: new FormControl()\r\n  })\r\n\r\n  constructor(public navCtrl: NavController, private formBuilder: FormBuilder, public viewCtrl: ViewController, public navParams: NavParams, public db: PouchService, public platform: Platform) {\r\n\r\n    this.departments = [\"Process Operations\", \"HSE\", \"Instrument\", \"Mechanical\", \"Electrical\"];\r\n\r\n    if (this.navParams.get('type') == 'Add') {\r\n      this.add = true;\r\n      this.title = 'Add';\r\n      this.supervisor = {\r\n        id: Math.round((new Date()).getTime()).toString(),\r\n        rev: '',\r\n        name: '',\r\n        mobile: '',\r\n        address: '',\r\n        email: '',\r\n        sex: 'Male',\r\n        position: '',\r\n        departments: 'Process Operations',\r\n        username: '',\r\n        password: '',\r\n        otp: '',\r\n        post: 'Supervisor',\r\n        workpermits: [],\r\n        workorders: [],\r\n        woalert: [],\r\n        faultregistrys: [],\r\n        dailyreports: []\r\n      }\r\n    }\r\n    else {\r\n      this.supervisor = this.navParams.get('engineer');\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AddengineerPage');\r\n    this.supervisorForm = this.formBuilder.group({\r\n      id: [this.supervisor.id],\r\n      rev: [this.supervisor.rev],\r\n      name: [this.supervisor.name],\r\n      mobile: [this.supervisor.mobile],\r\n      address: [this.supervisor.address],\r\n      email: [this.supervisor.email, Validators.compose([Validators.required, Validators.pattern(this.emailValidate)])],\r\n      sex: [this.supervisor.sex],\r\n      position: [this.supervisor.position],\r\n      otp: [this.supervisor.otp],\r\n      departments: [this.supervisor.departments],\r\n      username: [this.supervisor.username],\r\n      password: [this.supervisor.password],\r\n      post: [this.supervisor.post],\r\n      woalert: [this.supervisor.woalert]\r\n    })\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.supervisorForm = this.formBuilder.group({\r\n      id: [this.supervisor.id],\r\n      rev: [this.supervisor.rev],\r\n      name: [this.supervisor.name],\r\n      mobile: [this.supervisor.mobile],\r\n      address: [this.supervisor.address],\r\n      otp: [this.supervisor.otp],\r\n      email: [this.supervisor.email, Validators.compose([Validators.required, Validators.pattern(this.emailValidate)])],\r\n      sex: [this.supervisor.sex],\r\n      position: [this.supervisor.position],\r\n      departments: [this.supervisor.departments],\r\n      username: [this.supervisor.username],\r\n      password: [this.supervisor.password],\r\n      post: [this.supervisor.post],\r\n      woalert: [this.supervisor.woalert]\r\n    })\r\n  }\r\n\r\n  submit() {\r\n    if (this.add) {\r\n      this.db.saveSupervisor(this.supervisor).then(res => {\r\n        this.viewCtrl.dismiss(res);\r\n      });\r\n    }\r\n    else {\r\n      //this.supervisor.workorders = [];\r\n      //this.supervisor.woalert = [];\r\n      this.db.updateSupervisor(this.supervisor).then(result => {\r\n        this.viewCtrl.dismiss();\r\n      });\r\n    }\r\n  }\r\n\r\n  checkUser() {\r\n    if (this.add) {\r\n      this.disabled = false;\r\n      this.errorMessage = \"\";\r\n      this.db.getSupervisors().then(data => {\r\n        data.forEach(item => {\r\n          if (this.supervisor.username == item.username) {\r\n            this.errorMessage = \"This User already exists\";\r\n            this.disabled = true;\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  checkEmail() {\r\n    if (this.add) {\r\n      this.disabled = false;\r\n      this.errorMessageUser = \"\";\r\n      this.db.getSupervisors().then(data => {\r\n        data.forEach(item => {\r\n          if (this.supervisor.email == item.email) {\r\n            this.errorMessageUser = \"This email already exists\";\r\n            this.disabled = true;\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addengineer/addengineer.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/viewworkpermit/viewworkpermit.module.ts","../../src/pages/viewworkpermit/viewworkpermit.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ViewworkpermitPage } from './viewworkpermit';\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\n\n@NgModule({\n  declarations: [\n    ViewworkpermitPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ViewworkpermitPage),\n    IonicImageViewerModule\n  ],\n})\nexport class ViewworkpermitPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/viewworkpermit/viewworkpermit.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, ModalController, Platform, ViewController, NavController, NavParams, AlertController } from 'ionic-angular';\r\nimport { PouchService } from '../../pouch-service/pouch.service';\r\nimport { Workpermit } from '../../models/workpermit';\r\nimport { HttpserviceProvider } from '../../providers/httpservice';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n/**\r\n * Generated class for the ViewworkpermitPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-viewworkpermit',\r\n  templateUrl: 'viewworkpermit.html',\r\n})\r\nexport class ViewworkpermitPage {\r\n  filteredWorkpermit: Array<Workpermit> = [];\r\n  filteredWorkpermitGen: Array<Workpermit> = [];\r\n  public workpermits: Array<Workpermit> = [];\r\n  localStorageItem;\r\n  position;\r\n  public user: any;\r\n  show = false;\r\n  status;\r\n  selectedWorkpermit;\r\n  disabled = false;\r\n  disabled2 = false;\r\n  disable = true;\r\n  arraySelectedPermits = [];\r\n\r\n  constructor(public _DomSanitizer: DomSanitizer, public navCtrl: NavController, private platform: Platform, public modalCtrl: ModalController, public viewCtrl: ViewController, public httpService: HttpserviceProvider, public alertCtrl: AlertController, public db: PouchService, public navParams: NavParams) {\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.arraySelectedPermits = [];\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    console.log('ionViewDidLoad ViewworkpermitPage');\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.position = item.post;\r\n      if (this.position == 'Operator' || this.position == 'Admin') {\r\n        this.show = true\r\n      }\r\n    });\r\n\r\n    this._loadWorkpermits();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.arraySelectedPermits = [];\r\n    this.disable = true;\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.position = item.post;\r\n      if (this.position == 'Operator' || this.position == 'Admin') {\r\n        this.show = true\r\n      }\r\n    });\r\n    this._loadWorkpermits();\r\n  }\r\n\r\n  private _loadWorkpermits(): void {\r\n    this.db.getWorkpermits()\r\n      .then((workpermits: Array<Workpermit>) => {\r\n        this.filteredWorkpermit = workpermits.filter(data => data.department == this.user.departments || this.user.post == 'Manager' || this.user.post == 'Admin' || this.user.departments == 'HSE');\r\n        this.workpermits = workpermits.filter(data => data.department == this.user.departments || this.user.post == 'Manager' || this.user.post == 'Admin' || this.user.departments == 'HSE');\r\n\r\n        this.filteredWorkpermit.forEach(item => {\r\n\r\n          if (item.areasupervisorid != '' && item.areasupervisordisapprove == false || item.areasupervisordisapprove == true) {\r\n            this.db.getSupervisor(item.areasupervisorid).then(res => {\r\n\r\n              item['sname'] = res.name;\r\n            })\r\n          }\r\n          if (item.managerid != '' && item.managerdisapprove == false || item.managerdisapprove == true) {\r\n            this.db.getSupervisor(item.managerid).then(res => {\r\n\r\n              item['mname'] = res.name;\r\n            })\r\n          }\r\n          if (item.hseid != '' && item.hsedisapprove == false || item.hsedisapprove == true) {\r\n            this.db.getSupervisor(item.hseid).then(res => {\r\n              item['hname'] = res.name;\r\n            })\r\n          }\r\n\r\n          if (item.areasupervisorid == \"\" || item.hseid == \"\" || item.managerid == \"\" || item.areasupervisordisapprove == true || item.managerdisapprove == true || item.hsedisapprove == true) {\r\n            item['wostatus'] = \"Pending\";\r\n\r\n          }\r\n          else {\r\n            item['wostatus'] = \"Approved\";\r\n            if (item['gstatus'] != undefined) {\r\n              item['gstatus'] = true;\r\n            }\r\n            this.db.updateWorkpermit(item).then(data => {\r\n\r\n            })\r\n\r\n          }\r\n          if (this.user.post == 'Supervisor' && this.user.departments != 'HSE') {\r\n            if (this.user.id == item.areasupervisorid && item.areasupervisordisapprove == false) {\r\n              item['disabled'] = true;\r\n              item['disabled2'] = false;\r\n            }\r\n            else if (this.user.id == item.areasupervisorid && item.areasupervisordisapprove == true) {\r\n              item['disabled'] = false;\r\n              item['disabled2'] = true;\r\n            }\r\n            else {\r\n              item['disabled'] = false;\r\n              item['disabled2'] = false;\r\n            }\r\n          }\r\n          else if (this.user.post == 'Manager') {\r\n            if (this.user.id == item.managerid && item.managerdisapprove == false) {\r\n              item['disabled'] = true;\r\n              item['disabled2'] = false;\r\n            }\r\n            else if (this.user.id == item.managerid && item.managerdisapprove == true) {\r\n              item['disabled'] = false;\r\n              item['disabled2'] = true;\r\n            }\r\n            else {\r\n              item['disabled'] = false;\r\n              item['disabled2'] = false;\r\n            }\r\n          }\r\n          else if (this.user.post == 'Supervisor' && this.user.departments == 'HSE') {\r\n            if (this.user.id == item.hseid && item.hsedisapprove == false) {\r\n              item['disabled'] = true;\r\n              item['disabled2'] = false;\r\n            }\r\n            else if (this.user.id == item.hseid && item.hsedisapprove == true) {\r\n              item['disabled'] = false;\r\n              item['disabled2'] = true;\r\n            }\r\n            else {\r\n              item['disabled'] = false;\r\n              item['disabled2'] = false;\r\n            }\r\n          }\r\n        })\r\n      });\r\n  }\r\n\r\n  loadWorkPermitGen() {\r\n    /* this.db.getWorkpermits()\r\n      .then((workpermits: Array<Workpermit>) => {\r\n        this.filteredWorkpermitGen = workpermits.filter(data => data.)\r\n      }) */\r\n  }\r\n\r\n  back() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  newWorkPermit() {\r\n    this.navCtrl.push('WorkpermitPage', { type: 'Add' });\r\n  }\r\n\r\n  openWorkpermit(workpermit) {\r\n    this.navCtrl.push('WorkpermitPage', { type: 'Edit', workpermit: workpermit });\r\n  }\r\n\r\n  filterWorkpermits($event: any): void {\r\n    const value: string = $event.target.value ? $event.target.value.toLowerCase() : '';\r\n    this.filteredWorkpermit = [];\r\n\r\n    for (let workpermit of this.workpermits) {\r\n      if (workpermit.datecreated.toLowerCase().indexOf(value) !== -1 || workpermit.department.toLowerCase().indexOf(value) !== -1 || workpermit.equipmenttag.toLowerCase().indexOf(value) !== -1 || workpermit.tagname.toLowerCase().indexOf(value) !== -1) {\r\n        this.filteredWorkpermit.push(workpermit);\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteWorkpermit(workpermit: Workpermit) {\r\n    const alert = this.alertCtrl.create({\r\n      title: 'Delete Workpermit',\r\n      message: 'Are you sure you want to delete workpermit: ' + workpermit.ptwno,\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: 'Confirm',\r\n          handler: () => {\r\n            this.db.deleteWorkpermit(workpermit)\r\n              .then((success: boolean) => {\r\n                this._loadWorkpermits();\r\n              });\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  approve(workpermit) {\r\n    /* workpermit.hseid = this.user.id;\r\n    workpermit.areasupervisorid = this.user.id;\r\n    workpermit.managerid = this.user.id; */\r\n    if (this.user.post == 'Supervisor' && this.user.departments != 'HSE') {\r\n      workpermit.areasupervisorid = this.user.id;\r\n      workpermit.areasupervisordisapprove = false;\r\n      workpermit.sastatus = true;\r\n      workpermit.areasupervisordate = new Date().toJSON().slice(0, 10).replace(/-/g, '-');\r\n      this.db.updateWorkpermit(workpermit).then(item => {\r\n        if (this.user.id == item.areasupervisorid) {\r\n          item['disabled'] = true;\r\n          item['disabled2'] = false;\r\n        }\r\n        this._loadWorkpermits();\r\n        this.db.getSupervisor(item.permitholderid).then(res => {\r\n          var emailInfo = {\r\n            name: this.user.name,\r\n            department: this.user.departments,\r\n            email: res.email,\r\n            phoneNumber: this.user.mobile,\r\n            position: this.user.position,\r\n            ptwno: item.ptwno,\r\n            description: item.description,\r\n            location: item.exactlocation,\r\n            facility: item.faculty,\r\n            type: 'approve'\r\n          }\r\n          this.httpService.sendEmail(emailInfo).subscribe(res => {\r\n            \r\n          });\r\n\r\n          //if (this.platform.is('cordova')) {\r\n            this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n            })\r\n          //}\r\n        })\r\n\r\n      })\r\n      //this._loadWorkpermits();\r\n    }\r\n    else if (this.user.post == 'Manager') {\r\n      workpermit.managerid = this.user.id;\r\n      workpermit.managerdisapprove = false;\r\n      workpermit.mastatus = true;\r\n      workpermit.managerdate = new Date().toJSON().slice(0, 10).replace(/-/g, '-');\r\n      this.db.updateWorkpermit(workpermit).then(item => {\r\n        if (this.user.id == item.managerid) {\r\n          item['disabled'] = true;\r\n          item['disabled2'] = false;\r\n        }\r\n        this._loadWorkpermits();\r\n\r\n        this.db.getSupervisor(item.permitholderid).then(res => {\r\n          var emailInfo = {\r\n            name: this.user.name,\r\n            department: this.user.departments,\r\n            email: res.email,\r\n            phoneNumber: this.user.mobile,\r\n            position: this.user.position,\r\n            ptwno: item.ptwno,\r\n            description: item.description,\r\n            location: item.exactlocation,\r\n            facility: item.faculty,\r\n            type: 'approve'\r\n          }\r\n          this.httpService.sendEmail(emailInfo).subscribe(res => {\r\n            \r\n          });\r\n\r\n          //if (this.platform.is('cordova')) {\r\n            this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n            })\r\n          //}\r\n        })\r\n      })\r\n      //this._loadWorkpermits();\r\n    }\r\n    else if (this.user.post == 'Supervisor' && this.user.departments == 'HSE') {\r\n      workpermit.hseid = this.user.id;\r\n      workpermit.hsedisapprove = false;\r\n      workpermit.hastatus = true;\r\n      workpermit.hsedate = new Date().toJSON().slice(0, 10).replace(/-/g, '-');\r\n      this.db.updateWorkpermit(workpermit).then(item => {\r\n        \r\n        if (this.user.id == item.hseid) {\r\n          item['disabled'] = true;\r\n          item['disabled2'] = false;\r\n        }\r\n        this._loadWorkpermits();\r\n        this.db.getSupervisor(item.permitholderid).then(res => {\r\n          var emailInfo = {\r\n            name: this.user.name,\r\n            department: this.user.departments,\r\n            email: res.email,\r\n            phoneNumber: this.user.mobile,\r\n            position: this.user.position,\r\n            ptwno: item.ptwno,\r\n            description: item.description,\r\n            location: item.exactlocation,\r\n            facility: item.faculty,\r\n            type: 'approve'\r\n          }\r\n          this.httpService.sendEmail(emailInfo).subscribe(res => {\r\n            \r\n          });\r\n\r\n          //if (this.platform.is('cordova')) {\r\n            this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n            })\r\n          //}\r\n        })\r\n      })\r\n      //this._loadWorkpermits();\r\n    }\r\n  }\r\n\r\n  disapprove(workpermit) {\r\n    /*  workpermit.areasupervisorid = this.user.id;\r\n     workpermit.managerid = this.user.id;\r\n     workpermit.hseid = this.user.id;\r\n  */\r\n    if (this.user.post == 'Supervisor' && this.user.departments != 'HSE') {\r\n      workpermit.areasupervisorid = this.user.id;\r\n      workpermit.areasupervisordisapprove = true;\r\n      workpermit.sastatus = true;\r\n      workpermit.areasupervisordate = new Date().toJSON().slice(0, 10).replace(/-/g, '-');\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Reason for disapproval',\r\n        inputs: [\r\n          {\r\n            name: 'message',\r\n            type: 'text',\r\n            placeholder: 'Enter your reasons for disapproving'\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel'\r\n          },\r\n          {\r\n            text: 'Confirm',\r\n            handler: data => {\r\n              workpermit.messageareasupervisor = data.message;\r\n              this.db.updateWorkpermit(workpermit);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n      this.db.updateWorkpermit(workpermit).then(item => {\r\n        if (this.user.id == item.areasupervisorid) {\r\n          item['disabled'] = false;\r\n          item['disabled2'] = true;\r\n        }\r\n        this._loadWorkpermits();\r\n        this.db.getSupervisor(item.permitholderid).then(res => {\r\n          var emailInfo = {\r\n            name: this.user.name,\r\n            department: this.user.departments,\r\n            email: res.email,\r\n            phoneNumber: this.user.mobile,\r\n            position: this.user.position,\r\n            ptwno: item.ptwno,\r\n            description: item.description,\r\n            location: item.exactlocation,\r\n            facility: item.faculty,\r\n            type: 'disapprove'\r\n          }\r\n          this.httpService.sendEmail(emailInfo).subscribe(res => {\r\n            \r\n          });\r\n\r\n          //if (this.platform.is('cordova')) {\r\n            this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n            })\r\n          //}\r\n        })\r\n      })\r\n      //this._loadWorkpermits();\r\n    }\r\n    else if (this.user.post == 'Manager') {\r\n      workpermit.managerid = this.user.id;\r\n      workpermit.managerdisapprove = true;\r\n      workpermit.mastatus = true;\r\n      workpermit.managerdate = new Date().toJSON().slice(0, 10).replace(/-/g, '-');\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Reason for disapproval',\r\n        inputs: [\r\n          {\r\n            name: 'message',\r\n            type: 'text',\r\n            placeholder: 'Enter your reasons for disapproving'\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel'\r\n          },\r\n          {\r\n            text: 'Confirm',\r\n            handler: data => {\r\n              workpermit.messagemanager = data.message;\r\n              this.db.updateWorkpermit(workpermit);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n      this.db.updateWorkpermit(workpermit).then(item => {\r\n        if (this.user.id == item.managerid) {\r\n          item['disabled'] = false;\r\n          item['disabled2'] = true;\r\n        }\r\n        this._loadWorkpermits();\r\n        this.db.getSupervisor(item.permitholderid).then(res => {\r\n          var emailInfo = {\r\n            name: this.user.name,\r\n            department: this.user.departments,\r\n            email: res.email,\r\n            phoneNumber: this.user.mobile,\r\n            position: this.user.position,\r\n            ptwno: item.ptwno,\r\n            description: item.description,\r\n            location: item.exactlocation,\r\n            facility: item.faculty,\r\n            type: 'disapprove'\r\n          }\r\n          this.httpService.sendEmail(emailInfo).subscribe(res => {\r\n            \r\n          });\r\n\r\n          //if (this.platform.is('cordova')) {\r\n            this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n            })\r\n          //}\r\n        })\r\n      })\r\n      //this._loadWorkpermits();\r\n    }\r\n    else if (this.user.post == 'Supervisor' && this.user.departments == 'HSE') {\r\n      workpermit.hseid = this.user.id;\r\n      workpermit.hsedisapprove = true;\r\n      workpermit.hastatus = true;\r\n      workpermit.hsedate = new Date().toJSON().slice(0, 10).replace(/-/g, '-');\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Reason for disapproval',\r\n        inputs: [\r\n          {\r\n            name: 'message',\r\n            type: 'text',\r\n            placeholder: 'Enter your reasons for disapproving'\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel'\r\n          },\r\n          {\r\n            text: 'Confirm',\r\n            handler: data => {\r\n              workpermit.messagehse = data.message;\r\n              this.db.updateWorkpermit(workpermit);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n      this.db.updateWorkpermit(workpermit).then(item => {\r\n        if (this.user.id == item.hseid) {\r\n          item['disabled'] = false;\r\n          item['disabled2'] = true;\r\n        }\r\n        this._loadWorkpermits();\r\n        this.db.getSupervisor(item.permitholderid).then(res => {\r\n          var emailInfo = {\r\n            name: this.user.name,\r\n            department: this.user.departments,\r\n            email: res.email,\r\n            phoneNumber: this.user.mobile,\r\n            position: this.user.position,\r\n            ptwno: item.ptwno,\r\n            description: item.description,\r\n            location: item.exactlocation,\r\n            facility: item.faculty,\r\n            type: 'disapprove'\r\n          }\r\n          this.httpService.sendEmail(emailInfo).subscribe(res => {\r\n            \r\n          });\r\n\r\n          //if (this.platform.is('cordova')) {\r\n            this.httpService.workpermitNotification(emailInfo).subscribe(res => {\r\n            })\r\n          //}\r\n        })\r\n      })\r\n      //this._loadWorkpermits();\r\n    }\r\n  }\r\n\r\n  print(workpermit?: any): void {\r\n    this.arraySelectedPermits = [];\r\n    this.arraySelectedPermits.push(workpermit);\r\n    this.navCtrl.push('PrintworkpermitPage', { type: 'Edit', workpermit: this.arraySelectedPermits });\r\n  }\r\n\r\n  checkboxClicked(workpermit) {\r\n    this.selectedWorkpermit = workpermit;\r\n    this.disable = false;\r\n    this.arraySelectedPermits.push(this.selectedWorkpermit);\r\n  }\r\n\r\n  printSelected() {\r\n    this.navCtrl.push('PrintworkpermitPage', { type: 'Edit', workpermit: this.arraySelectedPermits });\r\n    this.arraySelectedPermits = [];\r\n  }\r\n\r\n  trackByName = (index, item) => {\r\n    return item.id;\r\n  }\r\n\r\n  fixed(workpermit){\r\n    let modal = this.modalCtrl.create('FixedPage', { workpermit: workpermit, type: 'workpermit' });\r\n    modal.onDidDismiss((data) => {\r\n      if (data) {\r\n        this._loadWorkpermits();\r\n      }\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/viewworkpermit/viewworkpermit.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\r\nimport { PouchService } from '../../pouch-service/pouch.service';\r\n\r\n/**\r\n * Generated class for the LoginPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n  user: any;\r\n  username;\r\n  users: {};\r\n  password: string;\r\n  error = \"\";\r\n  pullState: any;\r\n  finishSync: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public db: PouchService, public load: LoadingController) {\r\n    this.user = [];\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad LoginPage');\r\n\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    //this.db.checkRemoteSync();\r\n  }\r\n\r\n  login() {\r\n\r\n    this.error = \"\";\r\n    this.db.getEquipmentcats().then(equipments => {\r\n\r\n    })\r\n    //Get Staffs\r\n    this.db.getSupervisors().then(user => {\r\n\r\n      var found = false;\r\n\r\n      for (var i = 0; i < user.length; i++) {\r\n\r\n        if (user[i].username == this.username && user[i].password == this.password && user[i].post == \"Manager\") {\r\n          found = true;\r\n          localStorage.setItem('user', JSON.stringify(user[i].id));\r\n          this.navCtrl.setRoot('HomePage');\r\n        }\r\n        else if (user[i].username == this.username && user[i].password == this.password && user[i].post == \"Supervisor\") {\r\n          found = true;\r\n          localStorage.setItem('user', JSON.stringify(user[i].id));\r\n          this.navCtrl.setRoot('SupervisorhomePage');\r\n        }\r\n        else if (user[i].username == this.username && user[i].password == this.password && user[i].post == \"Operator\") {\r\n          found = true;\r\n          localStorage.setItem('user', JSON.stringify(user[i].id));\r\n          this.navCtrl.setRoot('OperatorhomePage');\r\n        }\r\n        else if (user[i].username == this.username && user[i].password == this.password && user[i].post == \"Admin\") {\r\n          found = true;\r\n          localStorage.setItem('user', JSON.stringify(user[i].id));\r\n          this.navCtrl.setRoot('AdminHomePage');\r\n        }\r\n      }\r\n      if (found == false) {\r\n        this.error = \"Username or Password is not correct, click forgot password for account recovery\";\r\n      }\r\n    });\r\n  }\r\n\r\n  navFpassword() {\r\n    this.navCtrl.push(\"ForgotpasswordPage\");\r\n  }\r\n\r\n  sync() {\r\n    this.db.initDB();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}
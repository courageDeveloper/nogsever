{"version":3,"sources":["../../src/pages/supervisorhome/supervisorhome.module.ts","../../src/pages/supervisorhome/supervisorhome.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SupervisorhomePage } from './supervisorhome';\n\n@NgModule({\n  declarations: [\n    SupervisorhomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SupervisorhomePage),\n  ],\n})\nexport class SupervisorhomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supervisorhome/supervisorhome.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Workpermit } from '../../models/workpermit';\r\nimport { PouchService } from '../../pouch-service/pouch.service';\r\nimport { Faultregistry } from '../../models/faultregistry';\r\nimport { Material } from '../../models/material';\r\nimport { PopupProvider } from '../../pouch-service/popup';\r\n\r\n/**\r\n * Generated class for the SupervisorhomePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-supervisorhome',\r\n  templateUrl: 'supervisorhome.html',\r\n})\r\nexport class SupervisorhomePage {\r\n\r\n  show: any = false;\r\n  showWork: any = false;\r\n  localStorageItem;\r\n  position;\r\n  name;\r\n  positions;\r\n  public user: any;\r\n  filteredWorkpermitLength: any;\r\n  filteredWorkorderLength: any;\r\n  filteredWorkpermit: Array<Workpermit> = [];\r\n  public workpermits: Array<Workpermit> = [];\r\n  filteredFaultregistry: Array<Faultregistry> = [];\r\n  public faultregistrys: Array<Faultregistry> = [];\r\n  filteredFaultreistryLength: any;\r\n  dailyWo: any;\r\n  dailyWolength: any;\r\n  currentDate;\r\n  deptWorkpermits: any;\r\n  deptWorkpermitslength: any;\r\n  equipmentLength: any;\r\n  faultRegistrylength: any;\r\n  totalWolength: any;\r\n  materialList: any;\r\n\r\n  constructor(public navCtrl: NavController, public db: PouchService, public navParams: NavParams, public popUp: PopupProvider) {\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n      this.name = item.name;\r\n      this.positions = item.position;\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SupervisorhomePage');\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n    });\r\n\r\n    this._loadWorkpermits();\r\n    this._loadWorkorder();\r\n    this._loadFaultregistry();\r\n    this.dailyWorkorder();\r\n    this.allWorkpermit();\r\n    this.allEquipments();\r\n    this.allFaultregistrys();\r\n    this._loadMateriallist();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.popUp.displayPopUp();\r\n    this.popUp.displayPopUpPM();\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    \r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.user = item;\r\n    });\r\n    this._loadWorkpermits();\r\n    this._loadWorkorder();\r\n    this._loadFaultregistry();\r\n    this.dailyWorkorder();\r\n    this.allWorkpermit();\r\n    this.allEquipments();\r\n    this.allFaultregistrys();\r\n    this._loadMateriallist();\r\n  }\r\n\r\n  private _loadWorkorder(): void {\r\n    this.localStorageItem = JSON.parse(localStorage.getItem('user'));\r\n    this.db.getSupervisor(this.localStorageItem).then(item => {\r\n      this.filteredWorkorderLength = item.woalert.length;\r\n    });\r\n  }\r\n\r\n  private _loadFaultregistry() {\r\n    this.db.getfaultregistrys()\r\n      .then((faultregistrys: Array<Faultregistry>) => {\r\n        this.filteredFaultregistry = faultregistrys.filter(data => data.supervisorstatus == true);\r\n        this.filteredFaultreistryLength = this.filteredFaultregistry.length;\r\n      })\r\n  }\r\n\r\n  private _loadMateriallist() {\r\n    this.db.getmaterials()\r\n      .then((materialList: Array<Material>) => {\r\n        this.materialList = materialList.length;\r\n      })\r\n  }\r\n\r\n  private _loadWorkpermits(): void {\r\n    this.db.getWorkpermits()\r\n      .then((workpermits: Array<Workpermit>) => {\r\n        \r\n        if (this.user.departments != 'HSE') {\r\n          this.filteredWorkpermit = workpermits.filter(data => data.department == this.user.departments && data.sstatus == true || data.fixed == true);\r\n          this.filteredWorkpermitLength = this.filteredWorkpermit.length;\r\n        }\r\n        else {\r\n          this.filteredWorkpermit = workpermits.filter(data => data.hstatus == true || data.fixed == true);\r\n          this.filteredWorkpermitLength = this.filteredWorkpermit.length;\r\n          \r\n        }\r\n      });\r\n\r\n  }\r\n\r\n  private dailyWorkorder(): void {\r\n    this.db.getWorkorders().then((res: any) => {\r\n      this.totalWolength = res.length;\r\n      if (this.currentDate == undefined) {\r\n        this.dailyWo = res.filter(data => new Date(data.datecreated).toJSON().slice(0, 10).replace(/-/g, '-') == new Date().toJSON().slice(0, 10).replace(/-/g, '-'));\r\n        this.dailyWolength = this.dailyWo.length;\r\n      }\r\n      else {\r\n        this.dailyWo = res.filter(data => new Date(data.datecreated).toJSON().slice(0, 10).replace(/-/g, '-') == this.currentDate);\r\n        this.dailyWolength = this.dailyWo.length;\r\n      }\r\n    })\r\n  }\r\n\r\n  private allWorkpermit(): void {\r\n    this.db.getWorkpermits().then(res => {\r\n      if(this.user.departments != 'HSE'){\r\n      this.deptWorkpermits = res.filter(data => data.department == this.user.departments);\r\n      this.deptWorkpermitslength = this.deptWorkpermits.length;\r\n      }\r\n      else{\r\n        this.deptWorkpermitslength = res.length;\r\n      }\r\n    })\r\n  }\r\n\r\n  private allEquipments(): void {\r\n    this.db.getEquipmentcats().then(res => {\r\n      this.equipmentLength = res.length;\r\n    })\r\n  }\r\n\r\n  private allFaultregistrys(): void {\r\n    this.db.getfaultregistrys().then(res => {\r\n      this.faultRegistrylength = res.length;\r\n    })\r\n  }\r\n\r\n  toggleSelection(index) {\r\n    this.show = !this.show;\r\n    this.showWork = false;\r\n  }\r\n\r\n  toggleSelection2(index) {\r\n    this.showWork = !this.showWork;\r\n    this.show = false;\r\n  }\r\n\r\n  openOperator() {\r\n    this.navCtrl.push('OperatorsPage');\r\n  }\r\n\r\n  openRegistry() {\r\n    this.navCtrl.push('FaultregistryPage');\r\n    this.db.getfaultregistrys()\r\n      .then((faultregistrys: Array<Faultregistry>) => {\r\n        this.filteredFaultregistry = faultregistrys.filter(data => data.supervisorstatus == true);\r\n        this.filteredFaultregistry.forEach(item => {\r\n          item.supervisorstatus = false;\r\n          this.db.updatefaultregistry(item).then(res => {\r\n            this._loadFaultregistry();\r\n          })\r\n        })\r\n      });\r\n  }\r\n\r\n  /* openWorkPermit() {\r\n    this.navCtrl.push('ViewworkpermitPage');\r\n    if (this.user.departments != 'HSE') {\r\n      this.db.getWorkpermits()\r\n        .then((workpermits: Array<Workpermit>) => {\r\n          this.filteredWorkpermit = workpermits.filter(data => data.department == this.user.departments && data.sstatus == true);\r\n          this.filteredWorkpermit.forEach(item => {\r\n            item.sstatus = false;\r\n            this.db.updateWorkpermit(item).then(res => {\r\n              this._loadWorkpermits();\r\n            });\r\n          })\r\n        })\r\n    }\r\n    else {\r\n      this.db.getWorkpermits()\r\n        .then((workpermits: Array<Workpermit>) => {\r\n          this.filteredWorkpermit = workpermits.filter(data => data.hstatus == true);\r\n          this.filteredWorkpermit.forEach(item => {\r\n            item.hstatus = false;\r\n            this.db.updateWorkpermit(item).then(res => {\r\n              this._loadWorkpermits();\r\n            });\r\n          })\r\n        })\r\n    }\r\n  } */\r\n\r\n  openWorkPermit() {\r\n    this.navCtrl.push('ViewworkpermitPage');\r\n    if (this.user.departments != 'HSE') {\r\n    this.db.getWorkpermits()\r\n      .then((workpermits: Array<Workpermit>) => {\r\n        this.filteredWorkpermit = workpermits.filter(data => data.department == this.user.departments && data.sstatus == true);\r\n        this.filteredWorkpermit.forEach(item => {\r\n          item.sstatus = false;\r\n          item.fixed = false;\r\n          this.db.updateWorkpermit(item).then(res => {\r\n            this._loadWorkpermits();\r\n          });\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      this.db.getWorkpermits()\r\n      .then((workpermits: Array<Workpermit>) => {\r\n        this.filteredWorkpermit = workpermits.filter(data => data.hstatus == true);\r\n        this.filteredWorkpermit.forEach(item => {\r\n          item.hstatus = false;\r\n          item.fixed = false;\r\n          this.db.updateWorkpermit(item).then(res => {\r\n            this._loadWorkpermits();\r\n          });\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  openPm() {\r\n    this.navCtrl.push('PreventivemaintenancePage');\r\n    this.db.getSupervisor(this.localStorageItem).then(data => {\r\n      data.woalert = [];\r\n      this.db.updateSupervisor(data).then(res => {\r\n        this._loadWorkorder();\r\n      })\r\n    });\r\n  }\r\n\r\n  openNewpm(){\r\n    this.navCtrl.push('NewpreventivemaintenancePage');\r\n    this.db.getSupervisor(this.localStorageItem).then(data => {\r\n      data.woalert = [];\r\n      this.db.updateSupervisor(data).then(res => {\r\n        this._loadWorkorder();\r\n      })\r\n    });\r\n  }\r\n\r\n  openMaterial(){\r\n    this.navCtrl.push('MaterialPage');\r\n  }\r\n\r\n  /* openPmdaily() {\r\n    this.navCtrl.push('PreventivemaintenancePage', {type: 'daily'});\r\n    this.db.getSupervisor(this.localStorageItem).then(data => {\r\n      data.woalert = [];\r\n      this.db.updateSupervisor(data).then(res => {\r\n        this._loadWorkorder();\r\n      })\r\n    });\r\n  } */\r\n\r\n  openWorkorder() {\r\n    this.navCtrl.push('WorkorderPage');\r\n  }\r\n\r\n  openDailyreport() {\r\n    this.navCtrl.push('ViewdailyreportPage');\r\n  }\r\n\r\n  openSpareparts() {\r\n    this.navCtrl.push('SparepartsPage');\r\n  }\r\n\r\n  openEquipments() {\r\n    this.navCtrl.push('EquipmentPage');\r\n  }\r\n\r\n  openAddequipments() {\r\n    this.navCtrl.push('EquipmentsaddPage');\r\n  }\r\n\r\n  openWorkerschedules() {\r\n    this.navCtrl.push('WorkerschedulePage');\r\n  }\r\n\r\n  logOut() {\r\n    localStorage.removeItem('user');\r\n    this.navCtrl.push('LoginPage');\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supervisorhome/supervisorhome.ts"],"sourceRoot":""}